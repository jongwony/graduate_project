{% extends 'layout.html' %}


{% block body %}
<h1 class="col-xs-12" style="text-align:center;">Upload Image or Video!</h1>

<div class="container">
<div id="carousel-example-generic" class='carousel slide' data-ride='carousel'>
	<!-- indicators -->
	<ol class='carousel-indicators'>
		<li data-target='#carousel-example-generic' data-slide-to='0' class='active'></li>
		<li data-target='#carousel-example-generic' data-slide-to='1'></li>
		<li data-target='#carousel-example-generic' data-slide-to='2'></li>
		<li data-target='#carousel-example-generic' data-slide-to='3'></li>
	</ol>

	<div class='carousel-inner' style='width:90%;height:380px;margin:auto' role='listbox'>
		<div class="item active">	
					<video style="width:100%" id='demo' autoplay loop muted onclick='this.play();'>
						<source src="{{ url_for('static', filename='demo.mp4') }}" type='video/mp4'>
						Your browser does not support the Video.
					</video>
			<div class="carousel-caption">
					<h3>Welcome to my Graduation Piece!</h3>
			</div>
		</div>
		<div class="item">
			<img style="width:100%" src="{{ url_for('static', filename='demohaar.jpg') }}" alt='demo'>
			<div class="carousel-caption">
							<h3>Detection Algorithm</h3>
							<p style="color:white">OpenCV의 Haar Cascade 알고리즘을 이용하여 얼굴을 찾아냅니다.</p>
			</div>
		</div>
		<div class="item">
			<video style="width:100%" id='trackdemo' autoplay loop muted onclick='this.play();'>
				<source src="{{ url_for('static', filename='demotrack.mp4') }}" type='video/mp4'>
				Your browser does not support the Video
			</video>
			<div class="carousel-caption">
				<h3>Tracking Algorithm</h3>
				<p style="color:white">OpenCV의 Optical Flow 기술로 찾은 얼굴을 추적합니다.</p>
			</div>
		</div>
		<div class="item">
						<img style="width:100%" src="{{ url_for('static', filename='demohist.jpg') }}" alt='demohist'>
						<div class="carousel-caption">
										<h3>Recognition Algorithm</h3>
										<p style="color:white">OpenCV의 Histogram 기술로 놓친 얼굴을 걸러냅니다.</p>
						</div>
		</div>
	</div>

	<!-- Controls -->
	<a class="left carousel-control" href='#carousel-example-generic' role='button' data-slide='prev'>
					<span class='glyphicon glyphicon-chevron-left' aria-hidden='true'></span>
					<span class='sr-only'>Previous</span>
	</a>
	<a class="right carousel-control" href='#carousel-example-generic' role='button' data-slide='next'>
					<span class='glyphicon glyphicon-chevron-right' aria-hidden='true'></span>
					<span class='sr-only'>Next</span>
	</a>
</div>
</div>

<div class='container' style="text-align:center;margin-top:2em;width:80%;">
  <form id="formData" action="{{ url_for('upload', info='fileinfo') }}" method='POST' enctype=multipart/form-data>
  	<input type="file" name="file" class='btn btn-default' style='float:left'>
    <input id='poptrig' type="submit" class="btn btn-default" style='float:right;' value="Upload">
  </form>
</div>
<div id='uploadpop' style="left:3em;position:fixed;bottom:2em" data-placement='top' data-content='File Uploading Here!'></div>
{% endblock %}


{% block script %}
<script type='text/javascript'>
var video = document.getElementById('demo');
video.addEventListener('onload', function() {
								video.play();
								}, false);
</script>
<script>
$('#poptrig').on('click', function() {
								$('#uploadpop').popover('show');
								});
</script>
{% endblock %}
